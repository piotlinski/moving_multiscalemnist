schema: '2.0'
stages:
  fetch_mnist:
    cmd: "wget http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz -O mnist/train-images.gz;\n\
      gunzip -d mnist/train-images.gz;\nwget http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz\
      \ -O mnist/train-labels.gz;\ngunzip -d mnist/train-labels.gz;\nwget http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz\
      \ -O mnist/test-images.gz;\ngunzip -d mnist/test-images.gz;\nwget http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz\
      \ -O mnist/test-labels.gz;\ngunzip -d mnist/test-labels.gz;\n"
    outs:
    - path: mnist/test-images
      md5: 2646ac647ad5339dbf082846283269ea
      size: 7840016
    - path: mnist/test-labels
      md5: 27ae3e4e09519cfbb04c329615203637
      size: 10008
    - path: mnist/train-images
      md5: 6bbc9ace898e44ae57da46a324031adb
      size: 47040016
    - path: mnist/train-labels
      md5: a25bea736e30d166cdddb491f175f624
      size: 60008
  generate:
    cmd: poetry run python moving_multiscalemnist && tar -C dataset -zcvf mnist.tar.gz
      .
    deps:
    - path: mnist/
      md5: 1dc490394c77583af52ebbf3022f0f2d.dir
      size: 54950168
      nfiles: 5
    - path: moving_multiscalemnist/__main__.py
      md5: 6cd037bbe17e53fb0cab84e76f22ef52
      size: 2582
    - path: moving_multiscalemnist/digit.py
      md5: 47d2b3e48b49949a4f157abe4f632f20
      size: 3037
    - path: moving_multiscalemnist/generate.py
      md5: 179f07dbc784c45e455c68a820b061ff
      size: 4268
    - path: moving_multiscalemnist/mnist.py
      md5: 250de1c3ca3adca5e6200447edca9167
      size: 1029
    - path: moving_multiscalemnist/prepare.py
      md5: ea044f6c86727362ce338fbd55b69c8c
      size: 2698
    - path: moving_multiscalemnist/sequence.py
      md5: c0f183a647d4c9cbf5f9d18d29fbce2c
      size: 2601
    - path: poetry.lock
      md5: 605dcc109d71ccf743673740d1d57723
      size: 128581
    - path: pyproject.toml
      md5: 35dfd697f96c7dd525dbcd002cc75f44
      size: 651
    params:
      moving_multiscalemnist/defaults.py:
        DATA_DIR: mnist
        FPS: 15
        IMAGE_SIZE:
        - 416
        - 416
        MAX_DIGITS: 5
        MIN_DIGITS: 2
        N_FRAMES: 50
        OSCILLATIONS:
        - 1.0
        - 1.5
        - 2.0
        SEED: 13
        SIZES:
        - 32
        - 64
        - 128
        TEST_SIZE: 3000
        TRAIN_SIZE: 7000
    outs:
    - path: mnist.tar.gz
      md5: 0464069174299f4652d897824052098f
      size: 1585377650
