schema: '2.0'
stages:
  fetch_mnist:
    cmd: "wget http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz -O mnist/train-images.gz;\n\
      gunzip -d mnist/train-images.gz;\nwget http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz\
      \ -O mnist/train-labels.gz;\ngunzip -d mnist/train-labels.gz;\nwget http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz\
      \ -O mnist/test-images.gz;\ngunzip -d mnist/test-images.gz;\nwget http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz\
      \ -O mnist/test-labels.gz;\ngunzip -d mnist/test-labels.gz;\n"
    outs:
    - path: mnist/test-images
      md5: 2646ac647ad5339dbf082846283269ea
      size: 7840016
    - path: mnist/test-labels
      md5: 27ae3e4e09519cfbb04c329615203637
      size: 10008
    - path: mnist/train-images
      md5: 6bbc9ace898e44ae57da46a324031adb
      size: 47040016
    - path: mnist/train-labels
      md5: a25bea736e30d166cdddb491f175f624
      size: 60008
  generate:
    cmd: poetry run python moving_multiscalemnist
    deps:
    - path: moving_multiscalemnist/__main__.py
      md5: 6cd037bbe17e53fb0cab84e76f22ef52
      size: 2582
    - path: moving_multiscalemnist/digit.py
      md5: 47d2b3e48b49949a4f157abe4f632f20
      size: 3037
    - path: moving_multiscalemnist/generate.py
      md5: dc525c81c7cd2b88deb6b4e4a3cb2253
      size: 4061
    - path: moving_multiscalemnist/mnist.py
      md5: 250de1c3ca3adca5e6200447edca9167
      size: 1029
    - path: moving_multiscalemnist/sequence.py
      md5: 9a6de78bff186bdc60543c77eac741c8
      size: 2517
    - path: poetry.lock
      md5: 605dcc109d71ccf743673740d1d57723
      size: 128581
    - path: pyproject.toml
      md5: 35dfd697f96c7dd525dbcd002cc75f44
      size: 651
    params:
      moving_multiscalemnist/defaults.py:
        DATA_DIR: mnist
        FPS: 15
        IMAGE_SIZE:
        - 416
        - 416
        MAX_DIGITS: 5
        MIN_DIGITS: 2
        N_FRAMES: 50
        OSCILLATIONS:
        - 1.0
        - 1.5
        - 2.0
        SEED: 13
        SIZES:
        - 32
        - 64
        - 128
        TEST_SIZE: 3000
        TRAIN_SIZE: 7000
    outs:
    - path: dataset/
      md5: f0997229534b2cfbaa8b7a9dd3b906f8.dir
      size: 3372240964
      nfiles: 510000
