schema: '2.0'
stages:
  fetch_mnist:
    cmd: "wget http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz -O mnist/train-images.gz;\n\
      gunzip -d mnist/train-images.gz;\nwget http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz\
      \ -O mnist/train-labels.gz;\ngunzip -d mnist/train-labels.gz;\nwget http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz\
      \ -O mnist/test-images.gz;\ngunzip -d mnist/test-images.gz;\nwget http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz\
      \ -O mnist/test-labels.gz;\ngunzip -d mnist/test-labels.gz;\n"
    outs:
    - path: mnist/test-images
      md5: 2646ac647ad5339dbf082846283269ea
      size: 7840016
    - path: mnist/test-labels
      md5: 27ae3e4e09519cfbb04c329615203637
      size: 10008
    - path: mnist/train-images
      md5: 6bbc9ace898e44ae57da46a324031adb
      size: 47040016
    - path: mnist/train-labels
      md5: a25bea736e30d166cdddb491f175f624
      size: 60008
  generate:
    cmd: poetry run python moving_multiscalemnist && tar -C dataset -zcvf mnist.tar.gz
      .
    deps:
    - path: mnist/
      md5: e71052e64503f85c7d182ff5ad8857c5.dir
      size: 64862590
      nfiles: 6
    - path: moving_multiscalemnist/__main__.py
      md5: 6cd037bbe17e53fb0cab84e76f22ef52
      size: 2582
    - path: moving_multiscalemnist/digit.py
      md5: e5f83e679cf4955485e91db9cbc78db9
      size: 3848
    - path: moving_multiscalemnist/generate.py
      md5: 83b9674e8dbbf9d48a77198822849b50
      size: 4264
    - path: moving_multiscalemnist/mnist.py
      md5: 250de1c3ca3adca5e6200447edca9167
      size: 1029
    - path: moving_multiscalemnist/prepare.py
      md5: f2811c0668f5666417fb6c2ca183548d
      size: 2696
    - path: moving_multiscalemnist/sequence.py
      md5: c0f183a647d4c9cbf5f9d18d29fbce2c
      size: 2601
    - path: poetry.lock
      md5: 605dcc109d71ccf743673740d1d57723
      size: 128581
    - path: pyproject.toml
      md5: 35dfd697f96c7dd525dbcd002cc75f44
      size: 651
    params:
      moving_multiscalemnist/defaults.py:
        DATA_DIR: mnist
        FPS: 10
        IMAGE_SIZE:
        - 128
        - 128
        MAX_DIGITS: 6
        MIN_DIGITS: 2
        N_FRAMES: 10
        OSCILLATIONS:
        - 1.0
        - 1.5
        - 2.0
        OSCILLATIONS_VARIANCES:
        - 0.0
        - 0.1
        - 0.2
        - 0.3
        SEED: 13
        SIZES:
        - 16
        - 32
        - 64
        TEST_SIZE: 600
        TRAIN_SIZE: 2500
    outs:
    - path: mnist.tar.gz
      md5: 91855978aa842a7d9fdb9ed323177670
      size: 43876608
